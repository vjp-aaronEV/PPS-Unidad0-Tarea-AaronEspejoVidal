{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introducci\u00f3n a la tarea de PPS de la unidad 0 Esta es la tarea obligatoria de Puesta en Producci\u00f3n Segura de la Unidad 0 Objetivos Esta tarea tiene como objetivo evaluar los conocimientos sobre las tecnolog\u00edas utilizadas en pr\u00e1cticas anteriores: - Lenguaje de marcas: En este caso MarkDown - Sistemas de control de versiones: Git - Creaci\u00f3n y adinistraci\u00f3n de contendores: Docker - Ciclos de desarrollo software seguros: SecDevOps Enlaces a los otros documentos git.md gitActions.md gitPages.md docker.md conclusion.md","title":"Home"},{"location":"#introduccion-a-la-tarea-de-pps-de-la-unidad-0","text":"Esta es la tarea obligatoria de Puesta en Producci\u00f3n Segura de la Unidad 0","title":"Introducci\u00f3n a la tarea de PPS de la unidad 0"},{"location":"#objetivos","text":"Esta tarea tiene como objetivo evaluar los conocimientos sobre las tecnolog\u00edas utilizadas en pr\u00e1cticas anteriores: - Lenguaje de marcas: En este caso MarkDown - Sistemas de control de versiones: Git - Creaci\u00f3n y adinistraci\u00f3n de contendores: Docker - Ciclos de desarrollo software seguros: SecDevOps","title":"Objetivos"},{"location":"#enlaces-a-los-otros-documentos","text":"git.md gitActions.md gitPages.md docker.md conclusion.md","title":"Enlaces a los otros documentos"},{"location":"conclusion/","text":"Conclusiones del proyecto Me ha gustado MkDocs como herramienta, permite tener bastante organizada la documentaci\u00f3n de manera autom\u00e1tica y poder visualizarla de manera muy comoda Ya utilizaba de antes Github para todos los ejercicios de clase en 2\u00ba DAM y para el proyecto final tambi\u00e9n, me parece muy buena herramienta y hace que puedas estar m\u00e1s tranquilo con los archivos, adem\u00e1s de las utilidades para trabajar en grupo en un solo proyecto Docker desde que la conoc\u00ed en 1\u00ba DAM me ha parecido buena herramienta y muy interesante, lo he utilizado durante el a\u00f1o pasado para tener un servidor con Nextcloud y Jellyfin principalmente. Si ves en las capturas una p\u00e1gina de MarkDown es simplemente una p\u00e1gina donde se puede ver lo que vas haciendo, no tiene m\u00e1s funcionalidades, este es el enlace por si quieres comprobarlo. Como feedback de la pr\u00e1ctica, me ha gustado la pr\u00e1ctica en general, no ha sido dif\u00edcil lo que se agradece y estaba bien explicada.","title":"conclusiones"},{"location":"conclusion/#conclusiones-del-proyecto","text":"Me ha gustado MkDocs como herramienta, permite tener bastante organizada la documentaci\u00f3n de manera autom\u00e1tica y poder visualizarla de manera muy comoda Ya utilizaba de antes Github para todos los ejercicios de clase en 2\u00ba DAM y para el proyecto final tambi\u00e9n, me parece muy buena herramienta y hace que puedas estar m\u00e1s tranquilo con los archivos, adem\u00e1s de las utilidades para trabajar en grupo en un solo proyecto Docker desde que la conoc\u00ed en 1\u00ba DAM me ha parecido buena herramienta y muy interesante, lo he utilizado durante el a\u00f1o pasado para tener un servidor con Nextcloud y Jellyfin principalmente. Si ves en las capturas una p\u00e1gina de MarkDown es simplemente una p\u00e1gina donde se puede ver lo que vas haciendo, no tiene m\u00e1s funcionalidades, este es el enlace por si quieres comprobarlo. Como feedback de la pr\u00e1ctica, me ha gustado la pr\u00e1ctica en general, no ha sido dif\u00edcil lo que se agradece y estaba bien explicada.","title":"Conclusiones del proyecto"},{"location":"docker/","text":"Creaci\u00f3n del contenedor docker de NGINX Creaci\u00f3n del contenedor Lo primero que he hecho ha sido cambiarme a la rama gh-pages para tener todos los archivos en mi repositorio local con el comando git checkout gh-pages , una vez hecho esto ya he creado el contenedor docker, en este caso he utilizado un contenedor normal, con el comando: - docker run --name PPSUnidad0-Tarea_AaronEspejo -p 8085:80 -v ./:/usr/share/nginx/html/ nginx - --name PPSUnidad0-Tarea_AaronEspejo : Especifico el nombre del contenedor docker - -p 8085:80 : Especifico que el puerto 80 del contenedor nginx sea redirigido al puerto 8085 de mi m\u00e1quina anfitriona. - -v ./:/usr/share/nginx/html/ nginx : Especifico el volumen tipo Bind-Mount , en el que le digo a Docker que el contenedor Nginx utilice los archivos de la ruta actual la cual es la ruta de mi repositorio local. EN LA CAPTURA SE VEN LOS ARCHIVOS DEL PROYECTO ANTERIOR PORQUE COPIE LOS ARCHIVOS DEL ANTERIOR Y NO TEN\u00cdA LA RAMA gh-pages EN LOCAL ACTUALIZADA AL NUEVO PROYECTO, DESPU\u00c9S LO ARREGLO Y SE PUEDE VER EN LA CAPTURA DE LA P\u00c1GINA DE NGINX QUE FUNCIONA CORRECTAMENTE Visualizaci\u00f3n de la p\u00e1gina de Nginx Como se puede ver en la captura accediendo a la direcci\u00f3n: http://localhost:8085 carga la p\u00e1gina de Nginx Docker Inspect En la imagen se puede ver parte del comando docker inspect , en este enlace (El enlace funciona si lo ves desde Github, no desde github.io) est\u00e1 el documento con la salida del comando","title":"docker"},{"location":"docker/#creacion-del-contenedor-docker-de-nginx","text":"","title":"Creaci\u00f3n del contenedor docker de NGINX"},{"location":"docker/#creacion-del-contenedor","text":"Lo primero que he hecho ha sido cambiarme a la rama gh-pages para tener todos los archivos en mi repositorio local con el comando git checkout gh-pages , una vez hecho esto ya he creado el contenedor docker, en este caso he utilizado un contenedor normal, con el comando: - docker run --name PPSUnidad0-Tarea_AaronEspejo -p 8085:80 -v ./:/usr/share/nginx/html/ nginx - --name PPSUnidad0-Tarea_AaronEspejo : Especifico el nombre del contenedor docker - -p 8085:80 : Especifico que el puerto 80 del contenedor nginx sea redirigido al puerto 8085 de mi m\u00e1quina anfitriona. - -v ./:/usr/share/nginx/html/ nginx : Especifico el volumen tipo Bind-Mount , en el que le digo a Docker que el contenedor Nginx utilice los archivos de la ruta actual la cual es la ruta de mi repositorio local. EN LA CAPTURA SE VEN LOS ARCHIVOS DEL PROYECTO ANTERIOR PORQUE COPIE LOS ARCHIVOS DEL ANTERIOR Y NO TEN\u00cdA LA RAMA gh-pages EN LOCAL ACTUALIZADA AL NUEVO PROYECTO, DESPU\u00c9S LO ARREGLO Y SE PUEDE VER EN LA CAPTURA DE LA P\u00c1GINA DE NGINX QUE FUNCIONA CORRECTAMENTE","title":"Creaci\u00f3n del contenedor"},{"location":"docker/#visualizacion-de-la-pagina-de-nginx","text":"Como se puede ver en la captura accediendo a la direcci\u00f3n: http://localhost:8085 carga la p\u00e1gina de Nginx","title":"Visualizaci\u00f3n de la p\u00e1gina de Nginx"},{"location":"docker/#docker-inspect","text":"En la imagen se puede ver parte del comando docker inspect , en este enlace (El enlace funciona si lo ves desde Github, no desde github.io) est\u00e1 el documento con la salida del comando","title":"Docker Inspect"},{"location":"git/","text":"Proceso de creaci\u00f3n del repositorio de Github En la p\u00e1gina web de Github le he dado a Nuevo y he configurado el nombre, descripci\u00f3n y que el repositorio fuera p\u00fablico, y le he dado a 'Create repository' Una vez hecho eso he copiado el enalce de ssh ya que tengo la relaci\u00f3n de confiaza configurada y he utilizado el comando: git clone git@github.com:vjp-aaronEV/PPS-Unidad0-Tarea-AaronEspejoVidal.git en la terminal para clonarme el repositorio en mi m\u00e1quina Kali","title":"git"},{"location":"git/#proceso-de-creacion-del-repositorio-de-github","text":"En la p\u00e1gina web de Github le he dado a Nuevo y he configurado el nombre, descripci\u00f3n y que el repositorio fuera p\u00fablico, y le he dado a 'Create repository' Una vez hecho eso he copiado el enalce de ssh ya que tengo la relaci\u00f3n de confiaza configurada y he utilizado el comando: git clone git@github.com:vjp-aaronEV/PPS-Unidad0-Tarea-AaronEspejoVidal.git en la terminal para clonarme el repositorio en mi m\u00e1quina Kali","title":"Proceso de creaci\u00f3n del repositorio de Github"},{"location":"gitActions/","text":"Proceso de creaci\u00f3n del Workflow para crear la estructura de MkDocs CreacionDocumentacion.yml El archivo .yml que hagamos tiene que estar en la carpeta .github/workflows/ , en este caso el archivo se llama: CreacionDocumentacion.yml , estos son los pasos que yo he seguido para crear este fichero: Lo primero que tenemos que poner en este archivo es el nombre que le queremos dar al flujo de trabajo con la etiqueta name: . Luego tenemos que utilizar la etiqueta on: , dentro de esta tenemos que especificar los eventos que tienen que suceder para que se ejecute el flujo de trabajo: push: : Cada vez que se haga un push se ejcuta branches: : Especifica las ramas donde se tiene que realizar el evento para que se ejecute - main : En este caso \u00fanicamente sucede cuando se hace un push en la rama main Dentro del bloque de la etiqueta permissions: tenemos que especificar los permisos que va a tener el flujo de trabajo: contents : Permite leer y escribir los archivos del repositorio pages : Permite configurar y publicar en Github Pages. id-token : Permite solicitar tokens de OpenID Connect Dentro del bloque de la etiqueta jobs: tenemos que especificar los trabajos que queremos que haga el flujo deploy: : Es el nombre que le damos al flujo, puede llamarse de cualquier manera. En este caso solamente tiene un trabajo runs-on: ubuntu-latest : Especifica que todas los pasos se tienen que ejecutar en el contenedor de ubuntu-latest steps: : Los pasos que se tienen ejecutar en el flujo. En este caso son estos: Clonar el repositorio al entorno de trabajo del Runner Configurar el entorno de Python que va a utilizar MkDocs Instalaci\u00f3n de las dependencias necesarias para MkDocs e instalar MkDocs con el comando dentro del contenedor de ubuntu: pip install mkdocs Construcci\u00f3n y despliegue de la documentaci\u00f3n Captura de pantalla del documento CreacionDocumentacion.yml Este es el c\u00f3digo en texto: # Nombre del flujo name: Generar Documentacion on: # Se ejecuta cada vez que se realiza un push en la rama main push: branches: - main # En este caso le doy permisos de lectura y escritura permissions: contents: write pages: write id-token: write # Especificar las tareas que tiene que hacer al ejecutarse jobs: deploy: # Todas las tareas se ejecutan en un contenedor de Ubuntu con la \u00faltima versi\u00f3n del mismo runs-on: ubuntu-latest steps: # Clonar el repositorio al entorno de trabajo del Runner - name: Checkout Repo uses: actions/checkout@v3 # Configuraci\u00f3n del entorno de Python - name: Configurar Python uses: actions/setup-python@v4 with: # Especifica la versi\u00f3n de Python a utilizar python-version: '3.x' # Instalo mkdocs para generar la documentaci\u00f3n - name: Instalacion Dependencias run: pip install mkdocs # Construcci\u00f3n y desplegue de la documentaci\u00f3n - name: Desplegue Documentacion # Construcci\u00f3n y subida a la rama gh-pages de la documentaci\u00f3n run: mkdocs gh-deploy --force env: # Le paso a mkdocs el token de Github GH_TOKEN: ${{ secrets.GITHUB_TOKEN }} Creaci\u00f3n mkdocs.yml Primero de todo tenemos que utilizar la etiqueta site name: para especificar el t\u00edtulo de la pesta\u00f1a y de la p\u00e1gina. Dentro del bloque de la etiqueta nav ponemos la lista de los enlaces a los archivos de la documentaci\u00f3n para que mkdocs sepa cuales son. En la etiqueta doc_dirs: tenemos que especificar la carpeta donde est\u00e1n los archivos de documentaci\u00f3n del proyecto. Captura de pantalla del documento mkdocs.yml Este es el c\u00f3digo en texto: # Nombre que aparece en el navegador y en el t\u00edtulo de la p\u00e1gina site_name: Documentaci\u00f3n tarea UT0 PPS # Lista de los enlaces a los archivos de documentaci\u00f3n nav: - Home: index.md - git: git.md - gitActions: gitActions.md - docker: docker.md - conclusiones: conclusiones.md # Ruta de los archivos de documentaci\u00f3n doc_dir: docs Push de la creaci\u00f3n del Workflow y comprobaci\u00f3n de funcionamiento En estas dos capturas de pantalla se va a poder ver como hago el push a github y en la pesta\u00f1a de 'Actions' de la p\u00e1gina web de Github se ha ejecutado el Workflow correctamente - git add . : Para a\u00f1adir todos los cambios en el \u00e1rea de preparaci\u00f3n - git commit -am 'mensaje' : Para guardar una instanea de los cambios del repositorio local y con el par\u00e1mtero -am para poner un mensaje en el commit - git push : Sube al repositorio online todos los cambios en la rama actual","title":"gitActions"},{"location":"gitActions/#proceso-de-creacion-del-workflow-para-crear-la-estructura-de-mkdocs","text":"","title":"Proceso de creaci\u00f3n del Workflow para crear la estructura de MkDocs"},{"location":"gitActions/#creaciondocumentacionyml","text":"El archivo .yml que hagamos tiene que estar en la carpeta .github/workflows/ , en este caso el archivo se llama: CreacionDocumentacion.yml , estos son los pasos que yo he seguido para crear este fichero: Lo primero que tenemos que poner en este archivo es el nombre que le queremos dar al flujo de trabajo con la etiqueta name: . Luego tenemos que utilizar la etiqueta on: , dentro de esta tenemos que especificar los eventos que tienen que suceder para que se ejecute el flujo de trabajo: push: : Cada vez que se haga un push se ejcuta branches: : Especifica las ramas donde se tiene que realizar el evento para que se ejecute - main : En este caso \u00fanicamente sucede cuando se hace un push en la rama main Dentro del bloque de la etiqueta permissions: tenemos que especificar los permisos que va a tener el flujo de trabajo: contents : Permite leer y escribir los archivos del repositorio pages : Permite configurar y publicar en Github Pages. id-token : Permite solicitar tokens de OpenID Connect Dentro del bloque de la etiqueta jobs: tenemos que especificar los trabajos que queremos que haga el flujo deploy: : Es el nombre que le damos al flujo, puede llamarse de cualquier manera. En este caso solamente tiene un trabajo runs-on: ubuntu-latest : Especifica que todas los pasos se tienen que ejecutar en el contenedor de ubuntu-latest steps: : Los pasos que se tienen ejecutar en el flujo. En este caso son estos: Clonar el repositorio al entorno de trabajo del Runner Configurar el entorno de Python que va a utilizar MkDocs Instalaci\u00f3n de las dependencias necesarias para MkDocs e instalar MkDocs con el comando dentro del contenedor de ubuntu: pip install mkdocs Construcci\u00f3n y despliegue de la documentaci\u00f3n","title":"CreacionDocumentacion.yml"},{"location":"gitActions/#captura-de-pantalla-del-documento-creaciondocumentacionyml","text":"Este es el c\u00f3digo en texto: # Nombre del flujo name: Generar Documentacion on: # Se ejecuta cada vez que se realiza un push en la rama main push: branches: - main # En este caso le doy permisos de lectura y escritura permissions: contents: write pages: write id-token: write # Especificar las tareas que tiene que hacer al ejecutarse jobs: deploy: # Todas las tareas se ejecutan en un contenedor de Ubuntu con la \u00faltima versi\u00f3n del mismo runs-on: ubuntu-latest steps: # Clonar el repositorio al entorno de trabajo del Runner - name: Checkout Repo uses: actions/checkout@v3 # Configuraci\u00f3n del entorno de Python - name: Configurar Python uses: actions/setup-python@v4 with: # Especifica la versi\u00f3n de Python a utilizar python-version: '3.x' # Instalo mkdocs para generar la documentaci\u00f3n - name: Instalacion Dependencias run: pip install mkdocs # Construcci\u00f3n y desplegue de la documentaci\u00f3n - name: Desplegue Documentacion # Construcci\u00f3n y subida a la rama gh-pages de la documentaci\u00f3n run: mkdocs gh-deploy --force env: # Le paso a mkdocs el token de Github GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}","title":"Captura de pantalla del documento CreacionDocumentacion.yml"},{"location":"gitActions/#creacion-mkdocsyml","text":"Primero de todo tenemos que utilizar la etiqueta site name: para especificar el t\u00edtulo de la pesta\u00f1a y de la p\u00e1gina. Dentro del bloque de la etiqueta nav ponemos la lista de los enlaces a los archivos de la documentaci\u00f3n para que mkdocs sepa cuales son. En la etiqueta doc_dirs: tenemos que especificar la carpeta donde est\u00e1n los archivos de documentaci\u00f3n del proyecto.","title":"Creaci\u00f3n mkdocs.yml"},{"location":"gitActions/#captura-de-pantalla-del-documento-mkdocsyml","text":"Este es el c\u00f3digo en texto: # Nombre que aparece en el navegador y en el t\u00edtulo de la p\u00e1gina site_name: Documentaci\u00f3n tarea UT0 PPS # Lista de los enlaces a los archivos de documentaci\u00f3n nav: - Home: index.md - git: git.md - gitActions: gitActions.md - docker: docker.md - conclusiones: conclusiones.md # Ruta de los archivos de documentaci\u00f3n doc_dir: docs","title":"Captura de pantalla del documento mkdocs.yml"},{"location":"gitActions/#push-de-la-creacion-del-workflow-y-comprobacion-de-funcionamiento","text":"En estas dos capturas de pantalla se va a poder ver como hago el push a github y en la pesta\u00f1a de 'Actions' de la p\u00e1gina web de Github se ha ejecutado el Workflow correctamente - git add . : Para a\u00f1adir todos los cambios en el \u00e1rea de preparaci\u00f3n - git commit -am 'mensaje' : Para guardar una instanea de los cambios del repositorio local y con el par\u00e1mtero -am para poner un mensaje en el commit - git push : Sube al repositorio online todos los cambios en la rama actual","title":"Push de la creaci\u00f3n del Workflow y comprobaci\u00f3n de funcionamiento"},{"location":"gitPages/","text":"Creaci\u00f3n de Github Pages Lo primero que tenemos que hacer es ir a la p\u00e1gina de web de nuestro proyecto en Github, luego nos tenemos que ir al apartado de 'Settings - Pages' , y dentro de este apartado tenemos que dejarlo as\u00ed: - Source: Deploy from a branch - Branch: En este caso 'gh-pages' y en la ra\u00edz '/ (root)' Una vez que lo hayamos terminado de configurar tenemos que darle a 'Save' . Una vez hecho esto, si esperamos unos segundos (o minutos) y recargamos la p\u00e1gina de Github, nos saldr\u00e1 el enlace a nuestra p\u00e1gina Si le damos al enlace nos llevar\u00e1 al sitio:","title":"Creaci\u00f3n de Github Pages"},{"location":"gitPages/#creacion-de-github-pages","text":"Lo primero que tenemos que hacer es ir a la p\u00e1gina de web de nuestro proyecto en Github, luego nos tenemos que ir al apartado de 'Settings - Pages' , y dentro de este apartado tenemos que dejarlo as\u00ed: - Source: Deploy from a branch - Branch: En este caso 'gh-pages' y en la ra\u00edz '/ (root)' Una vez que lo hayamos terminado de configurar tenemos que darle a 'Save' . Una vez hecho esto, si esperamos unos segundos (o minutos) y recargamos la p\u00e1gina de Github, nos saldr\u00e1 el enlace a nuestra p\u00e1gina Si le damos al enlace nos llevar\u00e1 al sitio:","title":"Creaci\u00f3n de Github Pages"}]}